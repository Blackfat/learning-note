### JAVA线程

线程状态

| 线程状态     | 说明                                             |
| ------------ | ------------------------------------------------ |
| NEW          | 初始状态，线程被创建，但没有start                |
| RUNNABLE     | 运行状态，包括运行和就绪状态                     |
| BLOCK        | 阻塞状态，表示线程阻塞于锁                       |
| WAITING      | 等待状态，表示线程需要等待其他线程的通知或者中断 |
| TIME_WAITING | 超时等待，表示线程可以在指定时间内返回           |
| TERMINATED   | 终止状态，表示线程已经执行完毕                   |

主要方法

- sleep()

  让线程休眠，交出CPU,让CPU去执行其他任务,但不会释放锁资源

- yield()

  让当期线程交出CPU权限，但不能控制交出CPU权限的时间，调用方法不会让线程进入阻塞状态，而是进去就绪状态，同时不会释放锁资源

- join()

  每个线程终止的前提是前驱线程的终止，每个线程等待前驱线程终止后，才从join()方法返回

- interrupt()

  >中断可以理解为线程的一个标识位属性，它表示一个运行中的线程是否被其他线程进行
  >了中断操作

  会中断等待中的线程，并将线程的中断标志位置位,如果线程在运行态则不会受此影响 。

  1)实例方法isInterrupted()

  此方法只会读取线程的中断标志位，并不会重置。

  2)类方法interrupted()

  此方法读取线程的中断标志位，并会重置。

阻塞和等待的区别

阻塞：当一个线程试图获取对象锁（非java.util.concurrent库中的锁，即synchronized），而该锁被其他线程持有，则该线程进入阻塞状态。它的特点是**使用简单，由JVM调度器来决定唤醒自己，而不需要由另一个线程来显式唤醒自己，不响应中断**。
等待：当一个线程等待另一个线程通知调度器一个条件时，该线程进入等待状态。它的特点是**需要等待另一个线程显式地唤醒自己，实现灵活，语义更丰富，可响应中断**。例如调用：Object.wait()、Thread.join()以及等待Lock或Condition。

线程中断

中断是线程的一个属性标志，如果线程sleep()、wait()、join()等处于阻塞状态，那么线程会定时检查中断状态位如果发现中断状态位为true，则会在这些阻塞方法调用处抛出InterruptedException异常，并且在抛出异常后立即将线程的中断状态位清除，即重新设置为false。抛出异常是为了线程从阻塞状态醒过来，并在结束线程前让程序员有足够的时间来处理中断请求。