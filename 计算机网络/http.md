#### TSL

> SSL即安全套接协议，在osi模型中处于第5层，后改名为TSL协议。

浏览器和服务器在使用TSL协议建立连接时需要选择一组恰当的加密算法来实现安全通讯，这些算法组合称为安全套件。如`ECDHE-RSA-AES256-GCM-SHA384`,主要包括密钥交换算法 + 签名算法 + 对称加密算法 + 摘要算法。密码套件的含义是：



“握⼿时使⽤ ECDHE 算法进⾏密钥交换，⽤ RSA 签名和身份认证，握⼿后的通信使⽤AES 对称算法，密钥⻓度 256 位，分组模式是 GCM，摘要算法	SHA384 ⽤于消息认证和产⽣随机数。”

#### 加密算法

AES 的意思是“⾼级加密标准”（Advanced Encryption	Standard），密钥⻓度可以是	128、192 或
256。它是 DES 算法的替代者，安全强度很⾼，性能也很好，⽽且有的硬件还会做特殊优化，所以
⾮常流⾏，是应⽤最⼴泛的对称加密算法。

对称加密算法还有**分组模式**的概念,可以让算法用固定长度的密钥加密任意长度的明文，把密钥转换成密文。

> 明文的长度不固定，而分组密码只能处理特定长度的一块数据，这就需要对分组密码的算法进行迭代，以便将一段很长的明文全部加密，而迭代的方法就是分组的模式。

RSA是常用的非堆成加密算法，它的安全性是基于整数分解的的数学难题，使用两个超大素数的乘积作为生成密钥的材料，从公钥对算出私钥是十分困难的。推荐的密钥长度1024位，现在1024位已不是十分安全，推荐使用2048位。

RSA的加密算法加解密比较耗时，而AES加解密相对快速，TSL中使用了混合加密的算法。

> 在开始通信的时候，使用RSA解决密钥交换的问题。使用随机数产生对称加密算法使用的会话秘钥，使用公钥加密，因为会话秘钥很短，所以耗时可以忽略不计。对方拿到密文后使用私钥解密获取会话秘钥，这样实现了对称密钥的安全交换，后续完成使用对称加密完成会话。

#### 摘要算法

> 特殊的压缩算法，将任意长度的数据处理成固定长度的字符串，可以理解成单向加密算法，只有算法，没有密钥，加密后的数据无法解密，不能通过密文推算出明文。

常见的摘要算法有MD5,SHA-1,能够生产16字节和20字节长度的数字摘要，但安全强度较低。现在使用更多是是SHA-2包括SHA224、SHA256、SHA384，分别能够⽣成28 字节、32 字节、48 字节的摘要。



注意摘要算法能保证数据的完整性，但不具有机密性，如果明文传输，黑客可以修改消息后把摘要一同改掉，造成数据安全问题。真正的完整性必须要建⽴在机密性之上，在混合加密系统⾥⽤会话密钥加密消息和摘要，俗称HMAC(哈希消息认证码)。

> HMAC为Keyed-Hashing for Message Authentication。它通过一个标准算法，在计算哈希的过程中，把key混入计算过程中。



